# Default Profile Configuration
spring.profiles.active=dev

# Health Check Endpoint
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=always

# Application Name
spring.application.name=sanatana-parampare-backend

# Path Matching Strategy - Use legacy Ant matcher for compatibility
spring.mvc.pathmatch.matching-strategy=ant_path_matcher

# ============================================================================
# CRITICAL: Prevent infinite forwarding loops and OOM errors
# ============================================================================
spring.mvc.dispatch-options-request=false
server.error.include-stacktrace=never
server.error.include-message=always


# Disable default resource serving that causes loops
# spring.resources.add-mappings=false

# Strict resource location checks to prevent path traversal
server.servlet.session.tracking-modes=cookie

# Request forwarding limit - prevents dispatcher loops
server.tomcat.max-redirects=0

# ============================================================================
# JVM Memory Settings (also set via MAVEN_OPTS in startup script)
# ============================================================================
# These are backup configurations if MAVEN_OPTS is not set
# Primary memory configuration is in run-dev.cmd

# ============================================================================
# Email Configuration (Applied to all profiles unless overridden)
# ============================================================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=keerthudarshu06@gmail.com
spring.mail.password=iflt vezy dwel ixnc
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# ============================================================================
# Razorpay Configuration (Applied to all profiles unless overridden)
# ============================================================================
razorpay.keyId=rzp_test_RiPOHTDGjBTzMX
razorpay.keySecret=3rXjmHkOjDdzG4WbmNESM2Iy
